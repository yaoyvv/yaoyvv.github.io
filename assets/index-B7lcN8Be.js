import{g as J}from"./detail-BURFOvtu.js";import{f as t,d as Q,r as C,k as W,q as c,c as m,o as r,a as n,p as a,u as l,F as N,s as x,e as _,b as p,x as K,K as h,v as i,t as d,g as X}from"./index-DfAD_XQf.js";import Y from"./Product-DGUYWFBP.js";const z=[{name:t("constants.contract.name"),value:"总部办公用品采购项目",type:null},{name:t("constants.contract.status"),value:"履行中",type:{key:"contractStatus",value:"inProgress"}},{name:t("constants.contract.num"),value:"BH00010",type:null},{name:t("constants.contract.type"),value:t("constants.contract.typeOptions.main"),type:null},{name:t("constants.contract.payType"),value:t("constants.contract.pay"),type:null},{name:t("constants.contract.amount"),value:"¥ 5,000,000",type:null},{name:t("constants.contract.company"),value:"腾讯科技（深圳）有限公司",type:null},{name:t("constants.contract.employee"),value:"欧尚",type:null},{name:t("constants.contract.signDate"),value:"2020-12-20",type:null},{name:t("constants.contract.effectiveDate"),value:"2021-01-20",type:null},{name:t("constants.contract.endDate"),value:"2022-12-20",type:null},{name:t("constants.contract.attachment"),value:"总部办公用品采购项目合同.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:t("constants.contract.remark"),value:"--",type:null},{name:t("constants.contract.createDate"),value:"2020-12-22 10:00:00",type:null}],Z=[{name:"MacBook Pro 2021",subtitle:"苹果公司（Apple Inc. ）",size:"13.3 英寸",cpu:"Apple M1",memory:"RAM 16GB",info:"最高可选配 16GB 内存 · 最高可选配 2TB 存储设备 电池续航最长达 18 小时",use:1420,stock:1500},{name:"Surface Laptop Go",subtitle:"微软（Microsoft Corporation）",size:"12.4 英寸",cpu:"Core i7",memory:"RAM 16GB",info:"常规使用 Surface，续航时间最长可达13小时 随时伴您工作",use:120,stock:2e3}],tt={class:"detail-advanced"},et={key:0},at={class:"product-add"},nt={class:"product-sub"},lt={class:"dialog-info-block"},ot={key:0},st=Q({name:"DetailAdvanced",__name:"index",setup(ct){const V=[{width:280,ellipsis:!0,colKey:"index",title:t("pages.detailCard.detail.form.applyNo"),sorter:(o,s)=>o.index.substr(3)-s.index.substr(3)},{width:200,ellipsis:!0,colKey:"pdName",title:t("pages.detailCard.detail.form.product"),sorter:(o,s)=>o.pdName.length-s.pdName.length},{width:200,ellipsis:!0,colKey:"pdNum",title:t("pages.detailCard.detail.form.productNo")},{width:160,ellipsis:!0,colKey:"purchaseNum",title:t("pages.detailCard.detail.form.num"),sorter:(o,s)=>o.purchaseNum-s.purchaseNum},{width:160,ellipsis:!0,colKey:"adminName",title:t("pages.detailCard.detail.form.department")},{width:200,ellipsis:!0,colKey:"updateTime",title:t("pages.detailCard.detail.form.createTime"),sorter:(o,s)=>Date.parse(o.updateTime)-Date.parse(s.updateTime)},{align:"left",fixed:"right",width:200,className:"test2",colKey:"op",title:t("pages.detailCard.detail.form.operation")}],b=C([]),k=C({defaultPageSize:10,total:100,defaultCurrent:1}),f=C(0),M=()=>{setInterval(()=>{f.value>5&&(f.value=-1),f.value+=1},2e3)},G=async()=>{try{const{list:o}=await J();b.value=o,k.value={...k.value,total:o.length}}catch(o){console.log(o)}};W(()=>{M(),G()});const g=C(!1),L=o=>{console.log(o)},O=(o,s)=>{console.log("统一Change",o,s)},F=()=>{g.value=!0},R=o=>{b.value.splice(o.rowIndex,1)},U=()=>{g.value=!1};return(o,s)=>{const T=c("t-descriptions-item"),w=c("t-descriptions"),v=c("t-card"),y=c("t-step-item"),q=c("t-steps"),B=c("t-row"),D=c("t-radio-button"),E=c("t-radio-group"),P=c("t-icon"),S=c("t-col"),A=c("t-tag"),I=c("t-link"),$=c("t-space"),j=c("t-table"),H=c("t-dialog");return r(),m("div",tt,[n(v,{bordered:!1},{default:a(()=>[n(w,{title:l(t)("pages.detailCard.baseInfo.title")},{default:a(()=>[(r(!0),m(N,null,x(l(z),(e,u)=>(r(),_(T,{key:u,label:e.name},{default:a(()=>[p("span",{class:K({inProgress:e.type&&e.type.value==="inProgress",pdf:e.type&&e.type.value==="pdf"})},[e.type&&e.type.key==="contractStatus"?(r(),m("i",et)):h("",!0),i(" "+d(e.value),1)],2)]),_:2},1032,["label"]))),128))]),_:1},8,["title"])]),_:1}),n(v,{title:l(t)("pages.detailCard.invoice.title"),class:"container-base-margin-top",bordered:!1},{default:a(()=>[n(B,{justify:"space-between"},{default:a(()=>[n(q,{current:f.value},{default:a(()=>[n(y,{title:l(t)("pages.detailCard.invoice.step1.title"),content:l(t)("pages.detailCard.invoice.step1.content")},null,8,["title","content"]),n(y,{title:l(t)("pages.detailCard.invoice.step2.title"),content:l(t)("pages.detailCard.invoice.step2.content")},null,8,["title","content"]),n(y,{title:l(t)("pages.detailCard.invoice.step3.title"),content:l(t)("pages.detailCard.invoice.step3.content")},null,8,["title","content"]),n(y,{title:l(t)("pages.detailCard.invoice.step4.title")},null,8,["title"])]),_:1},8,["current"])]),_:1})]),_:1},8,["title"]),n(v,{title:l(t)("pages.detailCard.product.title"),class:"container-base-margin-top",bordered:!1},{actions:a(()=>[n(E,{"default-value":"dateVal"},{default:a(()=>[n(D,{value:"dateVal"},{default:a(()=>[i(d(l(t)("pages.detailCard.product.quarter")),1)]),_:1}),n(D,{value:"monthVal"},{default:a(()=>[i(d(l(t)("pages.detailCard.product.month")),1)]),_:1})]),_:1})]),default:a(()=>[n(B,{gutter:16,class:"product-block-container"},{default:a(()=>[n(S,{xl:4},{default:a(()=>[p("div",at,[p("div",nt,[n(P,{name:"add",class:"product-sub-icon"}),p("span",null,d(l(t)("pages.detailCard.product.add")),1)])])]),_:1}),(r(!0),m(N,null,x(l(Z),(e,u)=>(r(),_(S,{key:u,xl:4},{default:a(()=>[n(Y,{data:e},null,8,["data"])]),_:2},1024))),128))]),_:1})]),_:1},8,["title"]),n(v,{title:l(t)("pages.detailCard.detail.title"),class:"container-base-margin-top",bordered:!1},{default:a(()=>[n(j,{columns:V,data:b.value,pagination:k.value,hover:!0,stripe:!0,"row-key":"index",size:"large",onSortChange:L,onChange:O},{pdName:a(({row:e})=>[p("span",null,[i(d(e.pdName)+" ",1),e.pdType?(r(),_(A,{key:0,size:"medium",style:{"margin-left":"var(--td-comp-margin-s)"}},{default:a(()=>[i(d(e.pdType),1)]),_:2},1024)):h("",!0)])]),purchaseNum:a(({row:e})=>[p("span",null,[i(d(e.purchaseNum)+" ",1),e.purchaseNum>50?(r(),_(A,{key:0,theme:"danger",variant:"light",size:"medium",style:{"margin-left":"var(--td-comp-margin-s)"}},{default:a(()=>s[2]||(s[2]=[i("超预算",-1)])),_:1,__:[2]})):h("",!0)])]),op:a(e=>[n($,null,{default:a(()=>[n(I,{theme:"primary",onClick:s[0]||(s[0]=u=>F())},{default:a(()=>[i(d(l(t)("pages.detailCard.detail.form.manage")),1)]),_:1}),n(I,{theme:"danger",onClick:u=>R(e)},{default:a(()=>[i(d(l(t)("pages.detailCard.detail.form.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),"op-column":a(()=>[n(P,{name:"descending-order"})]),_:1},8,["data","pagination"])]),_:1},8,["title"]),n(H,{visible:g.value,"onUpdate:visible":s[1]||(s[1]=e=>g.value=e),header:l(t)("pages.detailCard.baseInfo.title"),onConfirm:U},{body:a(()=>[p("div",lt,[n(w,{column:1},{default:a(()=>[(r(!0),m(N,null,x(l(z),(e,u)=>(r(),_(T,{key:u,label:e.name},{default:a(()=>[p("span",{class:K({inProgress:e.type&&e.type.value==="inProgress",pdf:e.type&&e.type.value==="pdf"})},[e.type&&e.type.key==="contractStatus"?(r(),m("i",ot)):h("",!0),i(" "+d(e.value),1)],2)]),_:2},1032,["label"]))),128))]),_:1})])]),_:1},8,["visible","header"])])}}}),pt=X(st,[["__scopeId","data-v-ef680274"]]);export{pt as default};
