import{c as v,o as a,b as c,d as A,f as i,r as k,N as P,O as j,j as Y,q as n,a as l,p as o,F as D,s as V,e as y,x as G,v as I,u,P as H,t as h,g as J}from"./index-DfAD_XQf.js";const K={xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none"};function Q(L,g){return a(),v("svg",K,g[0]||(g[0]=[c("path",{fill:"currentcolor","fill-opacity":".26","fill-rule":"evenodd",d:"m32 10.69 26.248 15.155v22.31L32 63.308 5.75 48.155v-22.31zM9.75 30.464v15.381L32 58.69l22.248-12.845V30.464L32 43.309zM52.248 27 40.66 33.69l-8.66-5-8.66 5L11.75 27 32 15.31zM27.34 36 32 38.69 36.66 36 32 33.31zM30 8V0h4v8zM44.268 10.751l4-6.928 3.464 2-4 6.928zM16.268 12.751l-4-6.928 3.464-2 4 6.928z","clip-rule":"evenodd"},null,-1)]))}const W={render:Q},X={class:"secondary-notification"},Z=["onClick"],ee={class:"msg-date"},te={class:"msg-action"},ae=["onClick"],se=["onClick"],ne={key:1,class:"secondary-msg-list__empty-list"},le=A({name:"DetailSecondary",__name:"index",setup(L){const g=[{label:i("pages.detailSecondary.all"),value:"msgData"},{label:i("pages.detailSecondary.unread"),value:"unreadMsg"},{label:i("pages.detailSecondary.read"),value:"readMsg"}],_=k("msgData"),m=k(!1),f=k(),b=P(),{msgData:M,unreadMsg:N,readMsg:T}=j(b),x=Y(()=>_.value==="msgData"?M.value:_.value==="unreadMsg"?N.value:_.value==="readMsg"?T.value:[]),w=s=>{m.value=!0,f.value=s},S=s=>{const e=M.value;e.forEach(d=>{d.id===s.id&&(d.status=!d.status)}),b.setMsgData(e)},B=()=>{const s=f.value,e=M.value;e.forEach((d,p)=>{d.id===(s==null?void 0:s.id)&&e.splice(p,1)}),m.value=!1,b.setMsgData(e)};return(s,e)=>{const d=n("t-tag"),p=n("t-icon"),C=n("t-tooltip"),E=n("t-list-item"),$=n("t-list"),q=n("t-tab-panel"),F=n("t-tabs"),O=n("t-dialog");return a(),v("div",null,[c("div",X,[l(F,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=r=>_.value=r)},{default:o(()=>[(a(),v(D,null,V(g,(r,R)=>l(q,{key:R,value:r.value,label:r.label},{default:o(()=>[x.value.length>0?(a(),y($,{key:0,class:"secondary-msg-list",split:!0},{default:o(()=>[(a(!0),v(D,null,V(x.value,(t,U)=>(a(),y(E,{key:U},{action:o(()=>[c("span",ee,h(t.date),1),c("div",te,[l(C,{class:"set-read-icon","overlay-style":{margin:"6px"},content:t.status?u(i)("pages.detailSecondary.setRead"):u(i)("pages.detailSecondary.setUnread")},{default:o(()=>[c("span",{class:"msg-action-icon",onClick:z=>S(t)},[t.status?(a(),y(p,{key:0,name:"queue",size:"16px"})):(a(),y(p,{key:1,name:"chat"}))],8,ae)]),_:2},1032,["content"]),l(C,{content:u(i)("pages.detailSecondary.delete"),"overlay-style":{margin:"6px"}},{default:o(()=>[c("span",{onClick:z=>w(t)},[l(p,{name:"delete",size:"16px"})],8,se)]),_:2},1032,["content"])])]),default:o(()=>[c("p",{class:G(["content",[{unread:t.status}]]),onClick:z=>S(t)},[l(d,{size:"medium",theme:u(H).get(t.quality),variant:"light"},{default:o(()=>[I(h(t.type),1)]),_:2},1032,["theme"]),I(" "+h(t.content),1)],10,Z)]),_:2},1024))),128))]),_:1})):(a(),v("div",ne,[l(u(W)),c("p",null,h(u(i)("pages.detailSecondary.empty")),1)]))]),_:2},1032,["value","label"])),64))]),_:1},8,["modelValue"])]),l(O,{visible:m.value,"onUpdate:visible":e[1]||(e[1]=r=>m.value=r),header:"删除通知",body:`确认删除通知：${f.value&&f.value.content}吗？`,"on-confirm":B},null,8,["visible","body"])])}}}),ce=J(le,[["__scopeId","data-v-0714d962"]]);export{ce as default};
